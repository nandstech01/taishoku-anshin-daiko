# アーキテクチャ設計ドキュメント

## データモデル

### 記事（Posts）のタグ管理について

#### 設計判断
- `seo_keywords`フィールドを記事のタグとしても使用する設計を採用
- `tags`フィールドは将来の拡張性のために残すが、現在は使用しない

#### 理由
1. **シンプルな管理**
   - 1つのフィールドでタグとSEOキーワードの両方の目的を達成
   - コンテンツ管理の複雑さを軽減

2. **SEOの最適化**
   - 表示されるタグと構造化データのキーワードが完全に一致
   - ユーザー体験とSEO要件の一貫性を確保

3. **実装の効率性**
   - コードベースの簡素化
   - メンテナンスの容易さ

#### 技術的な詳細
- フィールドの型: `string[] | null`
- 使用箇所:
  - タグページのURL生成（`/blog/tags/[tag]`）
  - 記事詳細ページのタグ表示
  - 構造化データ（JSON-LD）の`keywords`
  - サイトマップのタグページURL生成

#### 注意点
1. タグの追加・編集時は以下の点に注意:
   - URLとして有効な文字列であること
   - 検索エンジンに適した表現であること
   - ユーザーにとって理解しやすい表現であること

2. 将来の拡張性:
   - タグとSEOキーワードを分離する必要が生じた場合は、`tags`フィールドを活用
   - その際は、既存の`seo_keywords`からの移行計画を策定 